
import { router } from '@kit.ArkUI'
import AppRouter from '@ohos.router';
import { RouterConstant } from '../../contants/RouterConstant';

@Entry
@Component
export struct Message {
  // ðŸ”´ è¿™é‡Œå£°æ˜ŽçŠ¶æ€
  @State sysMsgUnread: boolean = true
  @State notifyUnread: boolean = true

  build() {
    Column({ space: 15 }) {
      // æ ‡é¢˜
      Text('æ¶ˆæ¯')
        .margin({ top:15, left:15 })
        .fontSize(25)
        .width('100%')
        .fontWeight(FontWeight.Bold)
        .textAlign(TextAlign.Start)

      // æ¶ˆæ¯æ€»æ•°
      Text('ä¸€å…±2æ¡æ¶ˆæ¯ï¼ˆæœªè¯»0æ¡ï¼‰')
        .width('100%')
        .textAlign(TextAlign.Start)
        .margin({ left:10, top:20 })

      // ç³»ç»Ÿæ¶ˆæ¯
      Row({ space:10 }) {
        Image($r('app.media.icon_system_message'))
          .width('10%')

        Column({ space:5 }) {
          Text('ç³»ç»Ÿæ¶ˆæ¯')
            .width('100%')
            .fontSize(20)
            .fontWeight(FontWeight.Medium)
            .textAlign(TextAlign.Start)

          Text('å¸Œæœ›å¤§å®¶èƒ½åœ¨ç™¾å¾—çŸ¥è¯†åº“å­¦åˆ°å¯¹åº”çš„çŸ¥è¯†.')
            .width('100%')
            .fontSize(16)
            .fontColor(Color.Gray)
            .textAlign(TextAlign.Start)
            .maxLines(1)
            .textOverflow({overflow:TextOverflow.Ellipsis})
        }

        // ðŸ”´ çº¢ç‚¹
        if (this.sysMsgUnread) {
          Blank()
            .width(12)
            .height(12)
            .backgroundColor('#FF3B30')
            .borderRadius(6)
            .margin({ left:5, top:8 })
        }
      }
      .onClick(() => {
        AppRouter.pushUrl({
          url: RouterConstant.VIEWS_MESSAGE_LIST,
          params: { type: 'system' }
        })
        // ç‚¹å‡»åŽæ ‡è®°ä¸ºå·²è¯»
        this.sysMsgUnread = false
      })
      .width('95%')
      .height(60)
      .backgroundColor(Color.White)
      .borderRadius(20)
      // é€šçŸ¥å…¬å‘Š

      Row({ space:10 }) {
        Image($r('app.media.icon_bottom_message_selected'))
          .width('10%')


        Column({ space:5 }) {
          Text('é€šçŸ¥å…¬å‘Š')
            .width('100%')
            .fontSize(20)
            .fontWeight(FontWeight.Medium)
            .textAlign(TextAlign.Start)

          Text('å¤§å®¶è®°å¾—ä»”ç»†é˜…è¯»éšç§æ”¿ç­–å’Œç”¨æˆ·åè®®...')
            .fontSize(16)
            .width('100%')
            .fontColor(Color.Gray)
            .textAlign(TextAlign.Start)
        }

        if (this.notifyUnread) {
          Blank()
            .width(12)
            .height(12)
            .backgroundColor('#FF3B30')
            .borderRadius(6)

            .margin({ left:5, top:8 })
        }
      }

      .onClick(() => {
        router.pushUrl({
          url: 'views/Message/systemInfo'
        })
        this.notifyUnread = false
      })
      .width('95%')
      .height(60)
      .backgroundColor(Color.White)
      .borderRadius(20)
    }
    .width('100%')
    .height('100%')
    .backgroundImage($r('app.media.background'))
    .backgroundImageSize(ImageSize.Cover)
  }
}
